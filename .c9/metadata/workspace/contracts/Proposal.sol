{"changed":true,"filter":false,"title":"Proposal.sol","tooltip":"/contracts/Proposal.sol","value":"import \"Organization\";\ncontract Proposal {\n\taddress owner;\n\tstring public description;\n\tstring public name;\n\taddress[] public voted;\n\tuint public forVotes;\n\tuint public againstVotes;\n\tuint public bal;\n\tuint public startTime;\n\tuint public endTime;\n\tuint public nbVoters;\n\tuint public Now;\n\n\n\tfunction Proposal(string newName, string newDescription, uint startime, uint endtime) {\n\t\towner = msg.sender;\n\t\tname = newName;\n\t\tstartTime = startime;\n\t\tendTime = endtime;\n\t\tdescription = newDescription;\n\t}\n\n\tfunction toTime(uint fakeTime) {\n\t\tNow = fakeTime;\n\n\t}\n\n\tfunction vote(bool vote, uint weight, address member) {\n\t\tif(msg.sender != owner) { return; }\n\n\t\tvoted.push(member);\n\t\tbal += weight * weight;\n\t\tnbVoters++;\n\t\tif(vote) {\n\t\t\tforVotes += weight;\n\t\t\treturn;\n\t\tagainstVotes += weight;\n\t\treturn;\n\t\t}\n\t}\n\t\n\t//We should allow for a supermajority as well- return the ratio of forVotes to againstVotes and let the organization decides what that means\n\tfunction Results() returns (uint result) {\n\t\tif( Now < endTime ) { return; }\n\t\tif(forVotes > againstVotes)\n\t\treturn forVotes/againstVotes;\n\t}\n\t\n\tfunction destroy() {\n\t\tif (msg.sender == owner) { // without this funds could be locked in the contract forever!\n\t\t\tsuicide(owner);\n\t\t}\n\tfunction endVote() {\n\t    if (now >= block.timestamp){\n\t        uint averagePayment = funds/voters;\n\t        for (uint i = 0; i < voters; i++){\n\t            function do(){\n\t                \n\t            }\n\t        }\n\t    }\n\t}\n}\n","undoManager":{"mark":94,"position":100,"stack":[[{"start":{"row":15,"column":36},"end":{"row":15,"column":37},"action":"insert","lines":["t"],"id":584}],[{"start":{"row":15,"column":36},"end":{"row":15,"column":37},"action":"remove","lines":["t"],"id":585}],[{"start":{"row":15,"column":35},"end":{"row":15,"column":36},"action":"remove","lines":["s"],"id":586}],[{"start":{"row":15,"column":35},"end":{"row":15,"column":36},"action":"insert","lines":["s"],"id":587}],[{"start":{"row":15,"column":36},"end":{"row":15,"column":37},"action":"insert","lines":["t"],"id":588}],[{"start":{"row":15,"column":37},"end":{"row":15,"column":38},"action":"insert","lines":["r"],"id":589}],[{"start":{"row":15,"column":38},"end":{"row":15,"column":39},"action":"insert","lines":["i"],"id":590}],[{"start":{"row":15,"column":39},"end":{"row":15,"column":40},"action":"insert","lines":["n"],"id":591}],[{"start":{"row":15,"column":40},"end":{"row":15,"column":41},"action":"insert","lines":["g"],"id":592}],[{"start":{"row":15,"column":41},"end":{"row":15,"column":42},"action":"insert","lines":[" "],"id":593}],[{"start":{"row":15,"column":42},"end":{"row":15,"column":43},"action":"insert","lines":["n"],"id":594}],[{"start":{"row":15,"column":43},"end":{"row":15,"column":44},"action":"insert","lines":["e"],"id":595}],[{"start":{"row":15,"column":44},"end":{"row":15,"column":45},"action":"insert","lines":["w"],"id":596}],[{"start":{"row":15,"column":45},"end":{"row":15,"column":46},"action":"insert","lines":["D"],"id":597}],[{"start":{"row":15,"column":46},"end":{"row":15,"column":47},"action":"insert","lines":["e"],"id":598}],[{"start":{"row":15,"column":47},"end":{"row":15,"column":48},"action":"insert","lines":["s"],"id":599}],[{"start":{"row":15,"column":47},"end":{"row":15,"column":48},"action":"remove","lines":["s"],"id":600}],[{"start":{"row":15,"column":46},"end":{"row":15,"column":47},"action":"remove","lines":["e"],"id":601}],[{"start":{"row":15,"column":45},"end":{"row":15,"column":46},"action":"remove","lines":["D"],"id":602}],[{"start":{"row":15,"column":45},"end":{"row":15,"column":46},"action":"insert","lines":["D"],"id":603}],[{"start":{"row":15,"column":46},"end":{"row":15,"column":47},"action":"insert","lines":["e"],"id":604}],[{"start":{"row":15,"column":47},"end":{"row":15,"column":48},"action":"insert","lines":["s"],"id":605}],[{"start":{"row":15,"column":48},"end":{"row":15,"column":49},"action":"insert","lines":["c"],"id":606}],[{"start":{"row":15,"column":49},"end":{"row":15,"column":50},"action":"insert","lines":["r"],"id":607}],[{"start":{"row":15,"column":50},"end":{"row":15,"column":51},"action":"insert","lines":["i"],"id":608}],[{"start":{"row":15,"column":51},"end":{"row":15,"column":52},"action":"insert","lines":["p"],"id":609}],[{"start":{"row":15,"column":52},"end":{"row":15,"column":53},"action":"insert","lines":["t"],"id":610}],[{"start":{"row":15,"column":53},"end":{"row":15,"column":54},"action":"insert","lines":["i"],"id":611}],[{"start":{"row":15,"column":54},"end":{"row":15,"column":55},"action":"insert","lines":["o"],"id":612}],[{"start":{"row":15,"column":55},"end":{"row":15,"column":56},"action":"insert","lines":["n"],"id":613}],[{"start":{"row":15,"column":56},"end":{"row":15,"column":57},"action":"insert","lines":[","],"id":614}],[{"start":{"row":15,"column":57},"end":{"row":15,"column":58},"action":"insert","lines":[" "],"id":615}],[{"start":{"row":26,"column":0},"end":{"row":30,"column":48},"action":"remove","lines":["\tfunction Proposal(string newName, string newDescription) {","\t\towner = msg.sender;","\t\tname = newName;","\t\tdescription = newDescription;",">>>>>>> 055c98f0bdfb12ff7bc74c40e6c87a09bd7a61e6"],"id":616}],[{"start":{"row":25,"column":0},"end":{"row":26,"column":0},"action":"remove","lines":["",""],"id":617}],[{"start":{"row":30,"column":0},"end":{"row":30,"column":12},"action":"remove","lines":["<<<<<<< HEAD"],"id":618}],[{"start":{"row":40,"column":3},"end":{"row":40,"column":24},"action":"remove","lines":["funds += weight ** 2;"],"id":619}],[{"start":{"row":40,"column":2},"end":{"row":40,"column":3},"action":"remove","lines":["\t"],"id":620}],[{"start":{"row":40,"column":1},"end":{"row":40,"column":2},"action":"remove","lines":["\t"],"id":621}],[{"start":{"row":40,"column":0},"end":{"row":40,"column":1},"action":"remove","lines":["\t"],"id":622}],[{"start":{"row":39,"column":12},"end":{"row":40,"column":0},"action":"remove","lines":["",""],"id":623}],[{"start":{"row":33,"column":13},"end":{"row":34,"column":0},"action":"insert","lines":["",""],"id":624},{"start":{"row":34,"column":0},"end":{"row":34,"column":2},"action":"insert","lines":["\t\t"]}],[{"start":{"row":34,"column":2},"end":{"row":34,"column":23},"action":"insert","lines":["funds += weight ** 2;"],"id":625}],[{"start":{"row":34,"column":0},"end":{"row":34,"column":23},"action":"remove","lines":["\t\tfunds += weight ** 2;"],"id":626}],[{"start":{"row":33,"column":13},"end":{"row":34,"column":0},"action":"remove","lines":["",""],"id":627}],[{"start":{"row":35,"column":22},"end":{"row":36,"column":0},"action":"insert","lines":["",""],"id":628},{"start":{"row":36,"column":0},"end":{"row":36,"column":3},"action":"insert","lines":["\t\t\t"]}],[{"start":{"row":36,"column":3},"end":{"row":36,"column":4},"action":"insert","lines":["r"],"id":629}],[{"start":{"row":36,"column":4},"end":{"row":36,"column":5},"action":"insert","lines":["e"],"id":630}],[{"start":{"row":36,"column":5},"end":{"row":36,"column":6},"action":"insert","lines":["t"],"id":631}],[{"start":{"row":36,"column":6},"end":{"row":36,"column":7},"action":"insert","lines":["u"],"id":632}],[{"start":{"row":36,"column":7},"end":{"row":36,"column":8},"action":"insert","lines":["r"],"id":633}],[{"start":{"row":36,"column":8},"end":{"row":36,"column":9},"action":"insert","lines":["n"],"id":634}],[{"start":{"row":36,"column":9},"end":{"row":36,"column":10},"action":"insert","lines":[";"],"id":635}],[{"start":{"row":37,"column":0},"end":{"row":44,"column":4},"action":"remove","lines":["=======","\t\tif(now >= startTime && now <= endTime){","\t\t\tvoted[member] = true;","\t\t\tvoters++;","\t\t\tif(vote) {","\t\t\t\tforVotes += weight;","\t\t\t\treturn;","\t\t\t}"],"id":636}],[{"start":{"row":36,"column":10},"end":{"row":37,"column":0},"action":"remove","lines":["",""],"id":637}],[{"start":{"row":37,"column":2},"end":{"row":37,"column":3},"action":"remove","lines":["\t"],"id":638}],[{"start":{"row":38,"column":0},"end":{"row":38,"column":48},"action":"remove","lines":[">>>>>>> 055c98f0bdfb12ff7bc74c40e6c87a09bd7a61e6"],"id":639}],[{"start":{"row":37,"column":25},"end":{"row":38,"column":0},"action":"remove","lines":["",""],"id":640}],[{"start":{"row":38,"column":2},"end":{"row":38,"column":3},"action":"remove","lines":["\t"],"id":641}],[{"start":{"row":41,"column":0},"end":{"row":41,"column":12},"action":"remove","lines":["<<<<<<< HEAD"],"id":642}],[{"start":{"row":40,"column":2},"end":{"row":41,"column":0},"action":"remove","lines":["",""],"id":643}],[{"start":{"row":64,"column":0},"end":{"row":64,"column":48},"action":"remove","lines":[">>>>>>> 055c98f0bdfb12ff7bc74c40e6c87a09bd7a61e6"],"id":644}],[{"start":{"row":63,"column":6},"end":{"row":64,"column":0},"action":"remove","lines":["",""],"id":645}],[{"start":{"row":54,"column":0},"end":{"row":54,"column":7},"action":"remove","lines":["======="],"id":646}],[{"start":{"row":53,"column":3},"end":{"row":54,"column":0},"action":"remove","lines":["",""],"id":647}],[{"start":{"row":6,"column":1},"end":{"row":6,"column":2},"action":"remove","lines":["u"],"id":648}],[{"start":{"row":7,"column":1},"end":{"row":7,"column":2},"action":"remove","lines":["u"],"id":649}],[{"start":{"row":7,"column":1},"end":{"row":7,"column":2},"action":"insert","lines":["u"],"id":650}],[{"start":{"row":6,"column":1},"end":{"row":6,"column":2},"action":"insert","lines":["u"],"id":651}],[{"start":{"row":45,"column":29},"end":{"row":46,"column":0},"action":"insert","lines":["",""],"id":652},{"start":{"row":46,"column":0},"end":{"row":46,"column":2},"action":"insert","lines":["\t\t"]}],[{"start":{"row":46,"column":2},"end":{"row":46,"column":3},"action":"insert","lines":["r"],"id":653}],[{"start":{"row":46,"column":2},"end":{"row":46,"column":3},"action":"remove","lines":["r"],"id":654}],[{"start":{"row":46,"column":2},"end":{"row":46,"column":3},"action":"insert","lines":["u"],"id":655}],[{"start":{"row":46,"column":3},"end":{"row":46,"column":4},"action":"insert","lines":["i"],"id":656}],[{"start":{"row":46,"column":4},"end":{"row":46,"column":5},"action":"insert","lines":["n"],"id":657}],[{"start":{"row":46,"column":5},"end":{"row":46,"column":6},"action":"insert","lines":["t"],"id":658}],[{"start":{"row":46,"column":6},"end":{"row":46,"column":7},"action":"insert","lines":[" "],"id":659}],[{"start":{"row":46,"column":6},"end":{"row":46,"column":7},"action":"remove","lines":[" "],"id":660}],[{"start":{"row":46,"column":5},"end":{"row":46,"column":6},"action":"remove","lines":["t"],"id":661}],[{"start":{"row":46,"column":4},"end":{"row":46,"column":5},"action":"remove","lines":["n"],"id":662}],[{"start":{"row":46,"column":3},"end":{"row":46,"column":4},"action":"remove","lines":["i"],"id":663}],[{"start":{"row":46,"column":2},"end":{"row":46,"column":3},"action":"remove","lines":["u"],"id":664}],[{"start":{"row":44,"column":2},"end":{"row":45,"column":0},"action":"insert","lines":["",""],"id":665},{"start":{"row":45,"column":0},"end":{"row":45,"column":2},"action":"insert","lines":["\t\t"]}],[{"start":{"row":44,"column":2},"end":{"row":44,"column":3},"action":"insert","lines":["u"],"id":666}],[{"start":{"row":44,"column":3},"end":{"row":44,"column":4},"action":"insert","lines":["i"],"id":667}],[{"start":{"row":44,"column":4},"end":{"row":44,"column":5},"action":"insert","lines":["n"],"id":668}],[{"start":{"row":44,"column":2},"end":{"row":44,"column":5},"action":"remove","lines":["uin"],"id":678}],[{"start":{"row":44,"column":1},"end":{"row":44,"column":2},"action":"remove","lines":["\t"],"id":679}],[{"start":{"row":44,"column":0},"end":{"row":44,"column":1},"action":"remove","lines":["\t"],"id":680}],[{"start":{"row":43,"column":42},"end":{"row":44,"column":0},"action":"remove","lines":["",""],"id":681}],[{"start":{"row":46,"column":1},"end":{"row":46,"column":2},"action":"remove","lines":["\t"],"id":682}],[{"start":{"row":46,"column":0},"end":{"row":46,"column":1},"action":"remove","lines":["\t"],"id":683}],[{"start":{"row":45,"column":29},"end":{"row":46,"column":0},"action":"remove","lines":["",""],"id":684}],[{"start":{"row":47,"column":0},"end":{"row":47,"column":36},"action":"remove","lines":["\t\treturn againstVotes/forVotes * -1;"],"id":686}],[{"start":{"row":46,"column":31},"end":{"row":47,"column":0},"action":"remove","lines":["",""],"id":687}],[{"start":{"row":43,"column":29},"end":{"row":43,"column":30},"action":"insert","lines":["u"],"id":688}],[{"start":{"row":44,"column":3},"end":{"row":44,"column":4},"action":"insert","lines":["g"],"id":689}],[{"start":{"row":44,"column":4},"end":{"row":44,"column":5},"action":"insert","lines":["i"],"id":690}],[{"start":{"row":44,"column":5},"end":{"row":44,"column":6},"action":"insert","lines":["t"],"id":691}],[{"start":{"row":44,"column":5},"end":{"row":44,"column":6},"action":"remove","lines":["t"],"id":692}],[{"start":{"row":44,"column":4},"end":{"row":44,"column":5},"action":"remove","lines":["i"],"id":693}],[{"start":{"row":44,"column":3},"end":{"row":44,"column":4},"action":"remove","lines":["g"],"id":694}]]},"ace":{"folds":[],"scrolltop":513,"scrollleft":0,"selection":{"start":{"row":44,"column":3},"end":{"row":44,"column":3},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":24,"state":"start","mode":"plugins/ethergit.solidity.language/solidity_mode"}},"timestamp":1449162427162}