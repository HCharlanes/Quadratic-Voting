{"changed":true,"filter":false,"title":"Election.sol","tooltip":"/contracts/Election.sol","value":"import \"Organization\";\ncontract Election{\n    \n    //Initialize variables\n    bool test = true;\n    uint Now = 5\n    address public organization;\n    string public positionName;\n    string public description;\n    uint public startDate;\n    uint public endDate;\n    mapping (address => bool) public candidate;\n    address[] public candidateProposals;\n\n\n    function Election(address org, string pos, string desc, uint start, uint end){\n        //Sanity Checks\n        if (msg.sender != Organization(org).organizer() || start > end || (start > now || (test == true && start > Now)) ) {throw;}\n        organization = org;\n        positionName = pos;\n        description = desc;\n        startDate = start;\n        endDate = end;\n    }\n    \n    function runForElection(){\n        \n        //Sanity Checks\n        if (!Organization(organization).members(msg.sender) || candidate[msg.sender]) {throw;}\n        candidate[msg.sender] = true;\n        string proposalName = positionName;\n        string proposalDescription = positionName;\n        address newProp = Organization(organization).makeProposal(proposalName,proposalDescription, startDate, endDate);\n        candidateProposals.push(newProp);\n    }\n    \n    function checkWinner() returns (address winProp){\n        \n        uint totalResult =  0;\n        \n        //iterate over all candidate proposals and see which one has the highest total.\n        for (var i = 0; i < candidateProposals.length; i++){\n            uint currentResult = Proposal(candidateProposals[i]).totalResult();\n            if (currentResult > totalResult){\n                totalResult = currentResult;\n                address winningProp = candidateProposals[i];\n            }\n            return winningProp;\n        }\n    }\n    \n}","undoManager":{"mark":-17,"position":100,"stack":[[{"start":{"row":4,"column":9},"end":{"row":4,"column":10},"action":"insert","lines":[" "],"id":2992}],[{"start":{"row":4,"column":9},"end":{"row":4,"column":10},"action":"remove","lines":[" "],"id":2993}],[{"start":{"row":4,"column":8},"end":{"row":4,"column":9},"action":"remove","lines":["="],"id":2994}],[{"start":{"row":4,"column":8},"end":{"row":4,"column":9},"action":"insert","lines":["="],"id":2995}],[{"start":{"row":4,"column":9},"end":{"row":4,"column":10},"action":"insert","lines":[" "],"id":2996}],[{"start":{"row":4,"column":10},"end":{"row":4,"column":11},"action":"insert","lines":["5"],"id":2997}],[{"start":{"row":4,"column":4},"end":{"row":5,"column":0},"action":"insert","lines":["",""],"id":2998},{"start":{"row":5,"column":0},"end":{"row":5,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":5,"column":4},"end":{"row":5,"column":5},"action":"insert","lines":["u"],"id":2999}],[{"start":{"row":5,"column":5},"end":{"row":5,"column":6},"action":"insert","lines":["i"],"id":3000}],[{"start":{"row":5,"column":6},"end":{"row":5,"column":7},"action":"insert","lines":["n"],"id":3001}],[{"start":{"row":5,"column":7},"end":{"row":5,"column":8},"action":"insert","lines":["t"],"id":3002}],[{"start":{"row":5,"column":8},"end":{"row":5,"column":9},"action":"insert","lines":[" "],"id":3003}],[{"start":{"row":4,"column":4},"end":{"row":4,"column":5},"action":"insert","lines":["u"],"id":3004}],[{"start":{"row":4,"column":4},"end":{"row":4,"column":5},"action":"remove","lines":["u"],"id":3005}],[{"start":{"row":4,"column":4},"end":{"row":4,"column":5},"action":"insert","lines":["i"],"id":3006}],[{"start":{"row":4,"column":5},"end":{"row":4,"column":6},"action":"insert","lines":["n"],"id":3007}],[{"start":{"row":4,"column":6},"end":{"row":4,"column":7},"action":"insert","lines":["t"],"id":3008}],[{"start":{"row":4,"column":7},"end":{"row":4,"column":8},"action":"insert","lines":[" "],"id":3009}],[{"start":{"row":4,"column":7},"end":{"row":4,"column":8},"action":"remove","lines":[" "],"id":3010}],[{"start":{"row":4,"column":6},"end":{"row":4,"column":7},"action":"remove","lines":["t"],"id":3011}],[{"start":{"row":4,"column":5},"end":{"row":4,"column":6},"action":"remove","lines":["n"],"id":3012}],[{"start":{"row":4,"column":4},"end":{"row":4,"column":5},"action":"remove","lines":["i"],"id":3013}],[{"start":{"row":4,"column":4},"end":{"row":4,"column":5},"action":"insert","lines":["o"],"id":3014}],[{"start":{"row":4,"column":4},"end":{"row":4,"column":5},"action":"remove","lines":["o"],"id":3015}],[{"start":{"row":4,"column":4},"end":{"row":4,"column":5},"action":"insert","lines":["b"],"id":3016}],[{"start":{"row":4,"column":5},"end":{"row":4,"column":6},"action":"insert","lines":["o"],"id":3017}],[{"start":{"row":4,"column":6},"end":{"row":4,"column":7},"action":"insert","lines":["o"],"id":3018}],[{"start":{"row":4,"column":7},"end":{"row":4,"column":8},"action":"insert","lines":[" "],"id":3019}],[{"start":{"row":4,"column":7},"end":{"row":4,"column":8},"action":"remove","lines":[" "],"id":3020}],[{"start":{"row":4,"column":7},"end":{"row":4,"column":8},"action":"insert","lines":["l"],"id":3021}],[{"start":{"row":4,"column":8},"end":{"row":4,"column":9},"action":"insert","lines":[" "],"id":3022}],[{"start":{"row":4,"column":9},"end":{"row":4,"column":10},"action":"insert","lines":["t"],"id":3023}],[{"start":{"row":4,"column":10},"end":{"row":4,"column":11},"action":"insert","lines":["e"],"id":3024}],[{"start":{"row":4,"column":11},"end":{"row":4,"column":12},"action":"insert","lines":["s"],"id":3025}],[{"start":{"row":4,"column":12},"end":{"row":4,"column":13},"action":"insert","lines":["t"],"id":3026}],[{"start":{"row":4,"column":13},"end":{"row":4,"column":14},"action":"insert","lines":[" "],"id":3027}],[{"start":{"row":4,"column":14},"end":{"row":4,"column":15},"action":"insert","lines":["="],"id":3028}],[{"start":{"row":4,"column":15},"end":{"row":4,"column":16},"action":"insert","lines":[" "],"id":3029}],[{"start":{"row":4,"column":16},"end":{"row":4,"column":17},"action":"insert","lines":["t"],"id":3030}],[{"start":{"row":4,"column":17},"end":{"row":4,"column":18},"action":"insert","lines":["r"],"id":3031}],[{"start":{"row":4,"column":18},"end":{"row":4,"column":19},"action":"insert","lines":["u"],"id":3032}],[{"start":{"row":4,"column":19},"end":{"row":4,"column":20},"action":"insert","lines":["e"],"id":3033}],[{"start":{"row":4,"column":20},"end":{"row":4,"column":21},"action":"insert","lines":["'"],"id":3034}],[{"start":{"row":4,"column":20},"end":{"row":4,"column":21},"action":"remove","lines":["'"],"id":3035}],[{"start":{"row":4,"column":20},"end":{"row":4,"column":21},"action":"insert","lines":[";"],"id":3036}],[{"start":{"row":4,"column":21},"end":{"row":5,"column":0},"action":"insert","lines":["",""],"id":3037},{"start":{"row":5,"column":0},"end":{"row":5,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":5,"column":4},"end":{"row":5,"column":5},"action":"insert","lines":["i"],"id":3038}],[{"start":{"row":5,"column":5},"end":{"row":5,"column":6},"action":"insert","lines":["f"],"id":3039}],[{"start":{"row":5,"column":6},"end":{"row":5,"column":7},"action":"insert","lines":[" "],"id":3040}],[{"start":{"row":5,"column":6},"end":{"row":5,"column":7},"action":"remove","lines":[" "],"id":3041}],[{"start":{"row":5,"column":5},"end":{"row":5,"column":6},"action":"remove","lines":["f"],"id":3042}],[{"start":{"row":5,"column":4},"end":{"row":5,"column":5},"action":"remove","lines":["i"],"id":3043}],[{"start":{"row":5,"column":0},"end":{"row":5,"column":4},"action":"remove","lines":["    "],"id":3044}],[{"start":{"row":4,"column":21},"end":{"row":5,"column":0},"action":"remove","lines":["",""],"id":3045}],[{"start":{"row":17,"column":74},"end":{"row":17,"column":75},"action":"insert","lines":["("],"id":3046}],[{"start":{"row":17,"column":86},"end":{"row":17,"column":87},"action":"insert","lines":["_"],"id":3047}],[{"start":{"row":17,"column":86},"end":{"row":17,"column":87},"action":"remove","lines":["_"],"id":3048}],[{"start":{"row":17,"column":86},"end":{"row":17,"column":87},"action":"insert","lines":[")"],"id":3049}],[{"start":{"row":17,"column":87},"end":{"row":17,"column":88},"action":"insert","lines":[" "],"id":3050}],[{"start":{"row":17,"column":86},"end":{"row":17,"column":87},"action":"insert","lines":[" "],"id":3051}],[{"start":{"row":17,"column":87},"end":{"row":17,"column":88},"action":"insert","lines":["|"],"id":3052}],[{"start":{"row":17,"column":88},"end":{"row":17,"column":89},"action":"insert","lines":["|"],"id":3053}],[{"start":{"row":17,"column":89},"end":{"row":17,"column":90},"action":"insert","lines":[" "],"id":3054}],[{"start":{"row":17,"column":90},"end":{"row":17,"column":91},"action":"insert","lines":["t"],"id":3055}],[{"start":{"row":17,"column":91},"end":{"row":17,"column":92},"action":"insert","lines":["e"],"id":3056}],[{"start":{"row":17,"column":92},"end":{"row":17,"column":93},"action":"insert","lines":["u"],"id":3057}],[{"start":{"row":17,"column":93},"end":{"row":17,"column":94},"action":"insert","lines":["s"],"id":3058}],[{"start":{"row":17,"column":94},"end":{"row":17,"column":95},"action":"insert","lines":["t"],"id":3059}],[{"start":{"row":17,"column":94},"end":{"row":17,"column":95},"action":"remove","lines":["t"],"id":3060}],[{"start":{"row":17,"column":93},"end":{"row":17,"column":94},"action":"remove","lines":["s"],"id":3061}],[{"start":{"row":17,"column":92},"end":{"row":17,"column":93},"action":"remove","lines":["u"],"id":3062}],[{"start":{"row":17,"column":91},"end":{"row":17,"column":92},"action":"remove","lines":["e"],"id":3063}],[{"start":{"row":17,"column":90},"end":{"row":17,"column":91},"action":"remove","lines":["t"],"id":3064}],[{"start":{"row":17,"column":90},"end":{"row":17,"column":92},"action":"insert","lines":["()"],"id":3065}],[{"start":{"row":17,"column":91},"end":{"row":17,"column":92},"action":"insert","lines":["t"],"id":3066}],[{"start":{"row":17,"column":92},"end":{"row":17,"column":93},"action":"insert","lines":["e"],"id":3067}],[{"start":{"row":17,"column":93},"end":{"row":17,"column":94},"action":"insert","lines":["s"],"id":3068}],[{"start":{"row":17,"column":94},"end":{"row":17,"column":95},"action":"insert","lines":["t"],"id":3069}],[{"start":{"row":17,"column":95},"end":{"row":17,"column":96},"action":"insert","lines":[" "],"id":3070}],[{"start":{"row":17,"column":96},"end":{"row":17,"column":97},"action":"insert","lines":["="],"id":3071}],[{"start":{"row":17,"column":97},"end":{"row":17,"column":98},"action":"insert","lines":["="],"id":3072}],[{"start":{"row":17,"column":98},"end":{"row":17,"column":99},"action":"insert","lines":[" "],"id":3073}],[{"start":{"row":17,"column":99},"end":{"row":17,"column":100},"action":"insert","lines":["t"],"id":3074}],[{"start":{"row":17,"column":100},"end":{"row":17,"column":101},"action":"insert","lines":["r"],"id":3075}],[{"start":{"row":17,"column":101},"end":{"row":17,"column":102},"action":"insert","lines":["u"],"id":3076}],[{"start":{"row":17,"column":102},"end":{"row":17,"column":103},"action":"insert","lines":["e"],"id":3077}],[{"start":{"row":17,"column":103},"end":{"row":17,"column":104},"action":"insert","lines":[" "],"id":3078}],[{"start":{"row":17,"column":104},"end":{"row":17,"column":105},"action":"insert","lines":["&"],"id":3079}],[{"start":{"row":17,"column":105},"end":{"row":17,"column":106},"action":"insert","lines":["&"],"id":3080}],[{"start":{"row":17,"column":106},"end":{"row":17,"column":107},"action":"insert","lines":[" "],"id":3081}],[{"start":{"row":17,"column":107},"end":{"row":17,"column":108},"action":"insert","lines":["s"],"id":3082}],[{"start":{"row":17,"column":108},"end":{"row":17,"column":109},"action":"insert","lines":["t"],"id":3083}],[{"start":{"row":17,"column":109},"end":{"row":17,"column":110},"action":"insert","lines":["a"],"id":3084}],[{"start":{"row":17,"column":110},"end":{"row":17,"column":111},"action":"insert","lines":["r"],"id":3085}],[{"start":{"row":17,"column":111},"end":{"row":17,"column":112},"action":"insert","lines":["t"],"id":3086}],[{"start":{"row":17,"column":112},"end":{"row":17,"column":113},"action":"insert","lines":[" "],"id":3087}],[{"start":{"row":17,"column":113},"end":{"row":17,"column":114},"action":"insert","lines":[">"],"id":3088}],[{"start":{"row":17,"column":114},"end":{"row":17,"column":115},"action":"insert","lines":[" "],"id":3089}],[{"start":{"row":17,"column":115},"end":{"row":17,"column":116},"action":"insert","lines":["N"],"id":3090}],[{"start":{"row":17,"column":116},"end":{"row":17,"column":117},"action":"insert","lines":["o"],"id":3091}],[{"start":{"row":17,"column":117},"end":{"row":17,"column":118},"action":"insert","lines":["w"],"id":3092}]]},"ace":{"folds":[],"scrolltop":39,"scrollleft":0,"selection":{"start":{"row":15,"column":82},"end":{"row":15,"column":82},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":1,"state":"start","mode":"plugins/ethergit.solidity.language/solidity_mode"}},"timestamp":1449379217454}