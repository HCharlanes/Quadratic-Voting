{"filter":false,"title":"Caca.sol","tooltip":"/contracts/Caca.sol","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":63,"column":0},"action":"insert","lines":["contract Proposal {","\t// var that defines the proposal","\taddress public creator;","\tstring public description;","\tstring public name;","\tuint public startTime;","\tuint public endTime;","","\t// states of the proposal","\taddress[] public voted;","\tuint public forVotes;","\tuint public againstVotes;","\tuint public bal;","\tuint public nbVoters;","\tuint Now = now;","","","\tfunction Proposal(string newName, string newDescription, uint startime, uint endtime) {","\t\tcreator = msg.sender;","\t\tname = newName;","\t\tstartTime = startime;","\t\tendTime = endtime;","\t\tdescription = newDescription;","\t}","","\tfunction toTime(uint fakeTime) {","\t\tNow = fakeTime;","","\t}","","\tfunction vote(bool vote, uint weight, address member) {","\t\tif(msg.sender != creator) { return; }","","\t\tvoted.push(member);","\t\tbal += weight * weight;","\t\tnbVoters++;","\t\tif(vote) {","\t\t\tforVotes += weight;","\t\t\treturn;","\t\tagainstVotes += weight;","\t\treturn;","\t\t}","\t}","\t","\t//We should allow for a supermajority as well- return the ratio of forVotes to againstVotes and let the organization decides what that means","\tfunction Results() returns (int result) {","\t\tif( Now < endTime ) { return; }","\t\tif(forVotes > againstVotes) {return 1;}","\t\tif(forVotes <= againstVotes) {return 0;}","","\t}","\t","\tfunction totalResult() returns (uint result) {","\t\tif( Now < endTime ) { return; }","\t\treturn forVotes - againstVotes;","\t}","","\tfunction destroy() {","\t\tif (msg.sender == creator) { // without this funds could be locked in the contract forever!","\t\t\tsuicide(creator);","\t\t}","\t}","}",""],"id":1}]]},"ace":{"folds":[],"scrolltop":417,"scrollleft":0,"selection":{"start":{"row":63,"column":0},"end":{"row":63,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":26,"state":"start","mode":"plugins/ethergit.solidity.language/solidity_mode"}},"timestamp":1449363656515,"hash":"6d1cd048490bbe86b85cb10189b3457d3e89f265"}